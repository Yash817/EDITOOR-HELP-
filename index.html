<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MANII28 POV | Cinematic Editor</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        black: '#050505',
                        cyan: '#22d3ee',
                        dark: '#0a0a0a',
                    },
                    fontFamily: {
                        cinzel: ['Cinzel', 'serif'],
                        inter: ['Inter', 'sans-serif'],
                    },
                    animation: {
                        'pulse-fast': 'pulse 1s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        }
                    },
                    screens: {
                        'xs': '475px',
                        '3xl': '1920px', // TV / Large Desktop Support
                    }
                }
            }
        }
    </script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, getDocs, doc, updateDoc, deleteDoc, onSnapshot, query, orderBy } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // --- Configuration & Global State ---
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'manii28-pov';
        const firebaseConfig = JSON.parse(__firebase_config || '{}'); 
        
        // Fallback for local testing if config is missing
        if (!firebaseConfig.apiKey) {
            console.error("Firebase config missing. App will not function correctly.");
        }

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // Global State
        window.db = db;
        window.auth = auth;
        window.appId = appId;
        window.user = null;
        window.collectionPathPublic = (col) => collection(db, 'artifacts', appId, 'public', 'data', col);

        // --- Auth Flow ---
        const initAuth = async () => {
            try {
                if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                    await signInWithCustomToken(auth, __initial_auth_token);
                } else {
                    await signInAnonymously(auth);
                }
            } catch (error) {
                console.error("Auth Error:", error);
            }
        };

        initAuth();

        onAuthStateChanged(auth, (u) => {
            window.user = u;
            if (u) {
                console.log("Connected as:", u.uid);
                loadContent(); // Start loading content once auth is ready
            }
        });

        // --- Data Fetching ---
        function loadContent() {
            fetchShowreel();
            fetchProjects();
        }

        function fetchShowreel() {
            const q = window.collectionPathPublic('showreel');
            onSnapshot(q, (snapshot) => {
                const reelContainer = document.getElementById('featured-reel-container');
                if (!snapshot.empty) {
                    const data = snapshot.docs[0].data();
                    updateShowreelUI(data, snapshot.docs[0].id);
                } else {
                    // Default State if empty
                    reelContainer.innerHTML = `
                        <div class="text-center text-gray-500 py-20 border border-gray-800 rounded-lg">
                            <i class="fas fa-film text-4xl mb-4"></i>
                            <p>No showreel set. Update in Admin.</p>
                        </div>
                    `;
                }
            }, (err) => console.error("Reel fetch error:", err));
        }

        function updateShowreelUI(data, id) {
            const container = document.getElementById('featured-reel-container');
            // If it's a YouTube/Vimeo link, embed it. If direct video, use video tag.
            let mediaHtml = '';
            // Check for direct base64 video (starts with data:video)
            if (data.videoUrl && data.videoUrl.startsWith('data:video')) {
                mediaHtml = `<video class="w-full h-full object-cover" src="${data.videoUrl}" controls autoplay loop muted playsinline></video>`;
            } else if (data.videoUrl && (data.videoUrl.includes('youtube') || data.videoUrl.includes('youtu.be'))) {
                const videoId = data.videoUrl.split('v=')[1] || data.videoUrl.split('/').pop();
                mediaHtml = `<iframe class="w-full h-full object-cover" src="https://www.youtube.com/embed/${videoId}?autoplay=0&mute=0&controls=1&rel=0" frameborder="0" allowfullscreen></iframe>`;
            } else if (data.videoUrl && data.videoUrl.includes('vimeo')) {
                const videoId = data.videoUrl.split('/').pop();
                mediaHtml = `<iframe class="w-full h-full object-cover" src="https://player.vimeo.com/video/${videoId}" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>`;
            } else {
                 mediaHtml = `
                    <div class="relative w-full h-full group cursor-pointer overflow-hidden" onclick="window.open('${data.videoUrl}', '_blank')">
                        <img src="${data.thumbnail || 'https://via.placeholder.com/1920x1080/111/cyan?text=No+Thumbnail'}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105" alt="${data.title}">
                        <div class="absolute inset-0 bg-black/50 flex items-center justify-center group-hover:bg-black/30 transition-all">
                            <div class="w-20 h-20 rounded-full border-2 border-cyan flex items-center justify-center bg-black/50 backdrop-blur-sm group-hover:scale-110 transition-transform">
                                <i class="fas fa-play text-cyan text-2xl ml-1"></i>
                            </div>
                        </div>
                    </div>
                `;
            }

            container.innerHTML = `
                <div class="aspect-video w-full rounded-lg overflow-hidden border border-gray-800 shadow-2xl shadow-cyan/10 relative group">
                    ${mediaHtml}
                    <div class="absolute bottom-0 left-0 w-full p-6 bg-gradient-to-t from-black via-black/80 to-transparent pointer-events-none">
                        <h3 class="text-3xl font-cinzel text-white mb-1">${data.title || 'Untitled Reel'}</h3>
                        <p class="text-cyan font-inter text-sm tracking-widest uppercase">${data.subtitle || 'Featured Work'}</p>
                    </div>
                </div>
            `;
            
            // Store ID for Admin updates
            window.currentReelId = id;
            
            // Populate Admin Form if open
            if(document.getElementById('admin-reel-title')) {
                document.getElementById('admin-reel-title').value = data.title || '';
                document.getElementById('admin-reel-subtitle').value = data.subtitle || '';
                // Don't populate huge base64 strings into the text input, keep it clean
                if (!data.videoUrl.startsWith('data:video')) {
                    document.getElementById('admin-reel-video').value = data.videoUrl || '';
                } else {
                     document.getElementById('admin-reel-video').placeholder = "Current: Uploaded Video (Device)";
                     document.getElementById('admin-reel-video').value = "";
                }
            }
        }

        function fetchProjects() {
            const q = window.collectionPathPublic('projects'); // Ideally order by timestamp if field exists
            onSnapshot(q, (snapshot) => {
                const grid = document.getElementById('work-grid');
                grid.innerHTML = '';
                
                const projects = [];
                snapshot.forEach(doc => {
                    projects.push({id: doc.id, ...doc.data()});
                });

                if (projects.length === 0) {
                    grid.innerHTML = '<p class="text-gray-500 col-span-full text-center">No projects uploaded yet.</p>';
                    return;
                }

                projects.forEach((project, index) => {
                    const card = document.createElement('div');
                    card.className = `group relative aspect-[9/16] md:aspect-[4/5] overflow-hidden rounded-md bg-gray-900 border border-gray-800 hover:border-cyan/50 transition-all duration-500 opacity-0 translate-y-10 scroll-element`;
                    card.style.animationDelay = `${index * 100}ms`;
                    
                    let linkAction = `href="${project.videoUrl}" target="_blank"`;
                    let playButton = `WATCH PROJECT <i class="fas fa-arrow-right ml-2 transform group-hover/btn:translate-x-1 transition-transform"></i>`;
                    
                    // If uploaded video, open in new tab or create a modal (for simplicity here, new tab/simple view)
                    // Or if it's a direct video file, we can show a small preview on hover or handle differently
                    
                    card.innerHTML = `
                        <img src="${project.thumbnail || 'https://via.placeholder.com/800x1000/111/333?text=Project'}" alt="${project.title}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 opacity-80 group-hover:opacity-100">
                        <div class="absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent opacity-90"></div>
                        
                        <div class="absolute bottom-0 left-0 w-full p-6 translate-y-2 group-hover:translate-y-0 transition-transform duration-300">
                            <span class="text-xs font-bold text-cyan tracking-widest uppercase mb-2 block">${project.category || 'Edit'}</span>
                            <h3 class="text-2xl font-cinzel text-white leading-tight mb-4">${project.title}</h3>
                            <a ${linkAction} class="inline-flex items-center text-sm text-gray-300 hover:text-white transition-colors group/btn">
                                ${playButton}
                            </a>
                        </div>
                    `;
                    grid.appendChild(card);
                });
                
                // Re-trigger scroll observer for new elements
                setupScrollObserver();
                // Update Admin List
                updateAdminProjectList(projects);

            }, (err) => console.error("Projects fetch error:", err));
        }

        // --- Helper: Read File as Base64 ---
        const readFileAsBase64 = (file) => {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = () => resolve(reader.result);
                reader.onerror = error => reject(error);
                reader.readAsDataURL(file);
            });
        };

        // --- Admin Functions ---
        window.saveReel = async () => {
            const title = document.getElementById('admin-reel-title').value;
            const subtitle = document.getElementById('admin-reel-subtitle').value;
            let videoUrl = document.getElementById('admin-reel-video').value;
            const thumbnail = document.getElementById('admin-reel-thumb-preview').src;
            
            // Check for file upload
            const fileInput = document.getElementById('admin-reel-file-upload');
            if (fileInput.files.length > 0) {
                const file = fileInput.files[0];
                if (file.size > 900000) { // ~900KB safety limit for Firestore
                    alert("⚠️ Video file too large! Please upload a video smaller than 1MB or use a YouTube URL.");
                    return;
                }
                try {
                     videoUrl = await readFileAsBase64(file);
                } catch(e) {
                    alert("Error reading file");
                    return;
                }
            }

            if (!title || !videoUrl) return alert("Title and Video (URL or File) are required");

            const btn = document.getElementById('save-reel-btn');
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';

            try {
                const data = { title, subtitle, videoUrl, thumbnail, updatedAt: new Date().toISOString() };
                if (window.currentReelId) {
                    await updateDoc(doc(window.collectionPathPublic('showreel'), window.currentReelId), data);
                } else {
                    await addDoc(window.collectionPathPublic('showreel'), data);
                }
                alert("Showreel updated!");
                // Clear file input
                fileInput.value = "";
            } catch (e) {
                console.error(e);
                alert("Error saving: " + e.message);
            }
            btn.innerHTML = 'UPDATE SHOWREEL';
        };

        window.addProject = async () => {
            const title = document.getElementById('admin-proj-title').value;
            const category = document.getElementById('admin-proj-cat').value;
            let videoUrl = document.getElementById('admin-proj-video').value;
            const thumbnail = document.getElementById('admin-proj-thumb-preview').src;
            
            // Check for file upload
            const fileInput = document.getElementById('admin-proj-file-upload');
            if (fileInput.files.length > 0) {
                const file = fileInput.files[0];
                 if (file.size > 900000) { // ~900KB safety limit
                    alert("⚠️ Video file too large! Please upload a video smaller than 1MB or use a YouTube URL.");
                    return;
                }
                try {
                     videoUrl = await readFileAsBase64(file);
                } catch(e) {
                    alert("Error reading file");
                    return;
                }
            }

            if (!title || !videoUrl) return alert("Title and Video (URL or File) required");

            const btn = document.getElementById('add-proj-btn');
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Adding...';

            try {
                await addDoc(window.collectionPathPublic('projects'), {
                    title, category, videoUrl, thumbnail, createdAt: new Date().toISOString()
                });
                alert("Project added!");
                // Clear form
                document.getElementById('admin-proj-title').value = '';
                document.getElementById('admin-proj-video').value = '';
                document.getElementById('admin-proj-thumb-preview').src = '';
                document.getElementById('admin-proj-thumb-input').value = '';
                fileInput.value = "";
            } catch (e) {
                alert("Error: " + e.message);
            }
            btn.innerHTML = 'ADD PROJECT';
        };

        window.deleteProject = async (id) => {
            if(confirm("Delete this project permanently?")) {
                try {
                    await deleteDoc(doc(window.collectionPathPublic('projects'), id));
                } catch(e) {
                    alert("Error deleting: " + e.message);
                }
            }
        };

        function updateAdminProjectList(projects) {
            const list = document.getElementById('admin-project-list');
            if(!list) return;
            list.innerHTML = projects.map(p => `
                <div class="flex items-center justify-between bg-black/50 p-3 rounded border border-gray-800 mb-2">
                    <div class="flex items-center gap-3">
                        <img src="${p.thumbnail || ''}" class="w-10 h-10 object-cover rounded bg-gray-800">
                        <div>
                            <div class="text-sm font-bold text-white">${p.title}</div>
                            <div class="text-xs text-gray-500">${p.category}</div>
                        </div>
                    </div>
                    <button onclick="window.deleteProject('${p.id}')" class="text-red-500 hover:text-red-400 p-2"><i class="fas fa-trash"></i></button>
                </div>
            `).join('');
        }

        // Expose functions to global scope
        window.handleFileSelect = (input, previewId) => {
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    // Basic compression/limit check could go here
                    if(e.target.result.length > 900000) {
                        alert("Image too large (max 900KB). Please use a smaller image or an external URL.");
                        return;
                    }
                    document.getElementById(previewId).src = e.target.result;
                    document.getElementById(previewId).classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            }
        };

    </script>

    <style>
        /* Custom Styles */
        body {
            background-color: #050505;
            color: #ffffff;
            overflow-x: hidden;
        }

        /* Cinematic Grain */
        .grain-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 50;
            opacity: 0.05;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        /* Vignette */
        .vignette-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 49;
            background: radial-gradient(circle, rgba(0,0,0,0) 50%, rgba(5,5,5,0.8) 100%);
        }

        /* Scroll Reveal Class */
        .scroll-element {
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .scroll-element.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #050505;
        }
        ::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #22d3ee;
        }

        /* Preloader Keyframes */
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        .animate-blink {
            animation: blink 1s infinite;
        }
        
        .zoom-through-exit {
            animation: zoomOut 0.8s ease-in forwards;
        }
        @keyframes zoomOut {
            0% { transform: scale(1); opacity: 1; }
            50% { opacity: 0.8; }
            100% { transform: scale(3); opacity: 0; pointer-events: none; }
        }
    </style>
</head>
<body class="font-inter antialiased selection:bg-cyan selection:text-black">

    <!-- Cinematic Overlays -->
    <div class="grain-overlay"></div>
    <div class="vignette-overlay"></div>

    <!-- PRELOADER -->
    <div id="preloader" class="fixed inset-0 bg-black z-[100] flex flex-col items-center justify-center">
        <!-- Viewfinder UI -->
        <div class="absolute top-8 left-8 text-xs font-mono text-white/70 flex gap-4">
            <span class="text-red-500 flex items-center gap-2"><div class="w-3 h-3 rounded-full bg-red-500 animate-blink"></div> REC</span>
            <span>00:00:28:14</span>
        </div>
        <div class="absolute top-8 right-8 text-xs font-mono text-white/70 flex flex-col items-end gap-1">
            <span>ISO 800</span>
            <span>4K 60FPS</span>
            <span>RAW</span>
        </div>
        
        <!-- Corners -->
        <div class="absolute top-8 left-8 w-16 h-16 border-t-2 border-l-2 border-white/30"></div>
        <div class="absolute top-8 right-8 w-16 h-16 border-t-2 border-r-2 border-white/30"></div>
        <div class="absolute bottom-8 left-8 w-16 h-16 border-b-2 border-l-2 border-white/30"></div>
        <div class="absolute bottom-8 right-8 w-16 h-16 border-b-2 border-r-2 border-white/30"></div>
        
        <!-- Center Focus -->
        <div class="relative z-10 text-center">
            <div class="w-64 h-[1px] bg-white/20 mx-auto mb-4 relative">
                <div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[1px] h-4 bg-white/50"></div>
            </div>
            <h1 class="text-4xl md:text-6xl font-cinzel font-bold tracking-[0.2em] text-white mb-2">MANII28</h1>
            <p class="text-cyan tracking-[0.5em] text-sm">POV PRODUCTION</p>
            <div class="w-64 h-[1px] bg-white/20 mx-auto mt-4 relative">
                <div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[1px] h-4 bg-white/50"></div>
            </div>
        </div>
    </div>

    <!-- NAVIGATION -->
    <nav class="fixed top-0 w-full z-40 border-b border-white/5 bg-black/60 backdrop-blur-md transition-all duration-300" id="navbar">
        <div class="container mx-auto px-4 md:px-6 h-20 flex items-center justify-between">
            <a href="#" class="text-lg xs:text-xl md:text-2xl font-cinzel font-bold tracking-widest text-white hover:text-cyan transition-colors truncate">
                MANII28 POV<span class="text-cyan">.</span>
            </a>

            <!-- Desktop Menu -->
            <div class="hidden md:flex items-center gap-4 lg:gap-8">
                <a href="#work" class="text-xs lg:text-sm tracking-widest hover:text-cyan transition-colors uppercase">Work</a>
                <a href="#showreel" class="text-xs lg:text-sm tracking-widest hover:text-cyan transition-colors uppercase">Showreel</a>
                <a href="#skills" class="text-xs lg:text-sm tracking-widest hover:text-cyan transition-colors uppercase">Skills</a>
                <a href="#contact" class="px-4 lg:px-6 py-2 border border-cyan text-cyan hover:bg-cyan hover:text-black transition-all uppercase text-xs lg:text-sm font-bold tracking-wider">
                    Hire Me
                </a>
            </div>

            <!-- Mobile Menu Btn -->
            <button id="menu-btn" class="md:hidden text-white text-2xl">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu" class="fixed inset-0 bg-black z-40 transform translate-x-full transition-transform duration-300 flex flex-col items-center justify-center gap-8 md:hidden">
        <button id="close-menu-btn" class="absolute top-8 right-8 text-white text-3xl hover:text-cyan">
            <i class="fas fa-times"></i>
        </button>
        <a href="#work" class="text-2xl font-cinzel hover:text-cyan mobile-link">Work</a>
        <a href="#showreel" class="text-2xl font-cinzel hover:text-cyan mobile-link">Showreel</a>
        <a href="#skills" class="text-2xl font-cinzel hover:text-cyan mobile-link">Skills</a>
        <a href="#contact" class="text-2xl font-cinzel text-cyan mobile-link">Hire Me</a>
    </div>

    <!-- HERO SECTION -->
    <header class="relative min-h-[100dvh] flex items-center justify-center overflow-hidden py-20">
        <!-- Abstract BG -->
        <canvas id="hero-canvas" class="absolute inset-0 z-0 opacity-40"></canvas>
        <div class="absolute inset-0 bg-gradient-to-b from-transparent via-black/50 to-[#050505] z-10"></div>
        
        <div class="relative z-20 container mx-auto px-4 md:px-6 text-center mt-10">
            <p class="text-cyan font-bold tracking-[0.3em] mb-4 text-xs md:text-base animate-pulse-fast">EST. 2024</p>
            <h1 class="text-4xl xs:text-5xl md:text-7xl lg:text-8xl font-cinzel font-black text-white leading-tight mb-8">
                CRAFTING STORIES<br>
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-600">THROUGH MOTION</span>
            </h1>
            <p class="max-w-2xl mx-auto text-gray-400 mb-10 text-sm md:text-xl font-light leading-relaxed px-4">
                Professional Video Editing • Visual Effects • Color Grading
            </p>
            <div class="flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-6">
                <a href="#showreel" class="group relative px-6 py-3 md:px-8 md:py-3 bg-white text-black font-bold tracking-widest overflow-hidden w-full sm:w-auto text-center text-sm md:text-base">
                    <span class="relative z-10 group-hover:text-cyan transition-colors">VIEW SHOWREEL</span>
                    <div class="absolute inset-0 bg-black transform -translate-x-full group-hover:translate-x-0 transition-transform duration-300 ease-out"></div>
                </a>
                <a href="#contact" class="text-white tracking-widest hover:text-cyan transition-colors flex items-center gap-2 text-sm md:text-base">
                    AVAILABLE FOR HIRE <i class="fas fa-arrow-right text-xs"></i>
                </a>
            </div>
        </div>
    </header>

    <!-- SHOWREEL SECTION -->
    <section id="showreel" class="py-24 bg-[#050505] relative">
        <div class="container mx-auto px-4 md:px-6">
            <div class="flex items-end justify-between mb-12 scroll-element opacity-0 translate-y-10">
                <div>
                    <span class="text-cyan text-xs font-bold tracking-widest uppercase">Latest Work</span>
                    <h2 class="text-3xl md:text-5xl font-cinzel text-white mt-2">FEATURED REEL</h2>
                </div>
                <div class="hidden md:block w-32 h-[1px] bg-gray-800"></div>
            </div>

            <!-- Dynamic Reel Container -->
            <div id="featured-reel-container" class="scroll-element opacity-0 translate-y-10 transition-delay-200">
                <!-- Loading State -->
                <div class="aspect-video w-full rounded-lg bg-gray-900 border border-gray-800 animate-pulse flex items-center justify-center">
                    <i class="fas fa-circle-notch fa-spin text-cyan text-4xl"></i>
                </div>
            </div>
        </div>
    </section>

    <!-- WORK SECTION -->
    <section id="work" class="py-24 bg-[#080808] relative border-t border-white/5">
        <div class="container mx-auto px-4 md:px-6 max-w-7xl">
            <div class="text-center mb-16 scroll-element opacity-0 translate-y-10">
                <span class="text-cyan text-xs font-bold tracking-widest uppercase">Portfolio</span>
                <h2 class="text-3xl md:text-5xl font-cinzel text-white mt-2">SELECTED PROJECTS</h2>
            </div>

            <!-- Projects Grid -->
            <div id="work-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Dynamic Content Will Load Here -->
            </div>
        </div>
    </section>

    <!-- SKILLS & ABOUT -->
    <section id="skills" class="py-24 bg-[#050505] relative overflow-hidden">
        <div class="container mx-auto px-4 md:px-6 grid md:grid-cols-2 gap-16 items-center">
            
            <!-- About Content -->
            <div class="scroll-element opacity-0 translate-x-[-30px]">
                <span class="text-cyan text-xs font-bold tracking-widest uppercase">The Editor</span>
                <h2 class="text-3xl md:text-4xl font-cinzel text-white mt-2 mb-6">MANII28 POV</h2>
                <p class="text-gray-400 leading-relaxed mb-6 text-sm md:text-base">
                    I don't just cut footage; I orchestrate emotions. With a keen eye for rhythm and visual storytelling, 
                    I transform raw clips into immersive cinematic experiences. Specialized in high-energy edits, 
                    music videos, and narrative-driven content.
                </p>
                
                <div class="space-y-6 mt-8">
                    <!-- Skill Bars -->
                    <div>
                        <div class="flex justify-between text-xs font-bold tracking-wider mb-2">
                            <span>PREMIERE PRO</span>
                            <span class="text-cyan">95%</span>
                        </div>
                        <div class="h-1 bg-gray-800 w-full"><div class="h-full bg-cyan w-[95%] shadow-[0_0_10px_rgba(34,211,238,0.5)]"></div></div>
                    </div>
                    <div>
                        <div class="flex justify-between text-xs font-bold tracking-wider mb-2">
                            <span>AFTER EFFECTS</span>
                            <span class="text-cyan">85%</span>
                        </div>
                        <div class="h-1 bg-gray-800 w-full"><div class="h-full bg-cyan w-[85%] shadow-[0_0_10px_rgba(34,211,238,0.5)]"></div></div>
                    </div>
                    <div>
                        <div class="flex justify-between text-xs font-bold tracking-wider mb-2">
                            <span>DAVINCI RESOLVE</span>
                            <span class="text-cyan">80%</span>
                        </div>
                        <div class="h-1 bg-gray-800 w-full"><div class="h-full bg-cyan w-[80%] shadow-[0_0_10px_rgba(34,211,238,0.5)]"></div></div>
                    </div>
                </div>
            </div>

            <!-- Profile Image -->
            <div class="relative scroll-element opacity-0 translate-x-[30px]">
                <div class="absolute -inset-4 bg-cyan/20 blur-xl opacity-50 rounded-full animate-pulse"></div>
                <div class="relative aspect-square rounded-2xl overflow-hidden border border-gray-800">
                    <img src="https://i.postimg.cc/DfCFZWbh/Whats-App-Image-2026-01-06-at-8-43-57-PM.jpg" alt="MANII28 POV" class="w-full h-full object-cover filter grayscale hover:grayscale-0 transition-all duration-700">
                    <!-- Light Leak Overlay -->
                    <div class="absolute inset-0 bg-gradient-to-tr from-cyan/20 via-transparent to-purple-500/20 mix-blend-screen pointer-events-none"></div>
                </div>
            </div>

        </div>
    </section>

    <!-- CONTACT SECTION -->
    <section id="contact" class="py-24 bg-[#080808] border-t border-white/5">
        <div class="container mx-auto px-4 md:px-6 max-w-4xl">
            <div class="text-center mb-12">
                <span class="text-cyan text-xs font-bold tracking-widest uppercase">Get in Touch</span>
                <h2 class="text-3xl md:text-4xl font-cinzel text-white mt-2">START A PROJECT</h2>
            </div>

            <form id="contact-form" class="space-y-6 scroll-element opacity-0 translate-y-10">
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="group">
                        <label class="block text-xs text-gray-500 mb-2 uppercase tracking-wider group-focus-within:text-cyan transition-colors">Your Name</label>
                        <input type="text" id="c-name" class="w-full bg-black border border-gray-800 p-4 text-white focus:outline-none focus:border-cyan transition-colors" placeholder="Enter name">
                    </div>
                    <div class="group">
                        <label class="block text-xs text-gray-500 mb-2 uppercase tracking-wider group-focus-within:text-cyan transition-colors">Email Address</label>
                        <input type="email" id="c-email" class="w-full bg-black border border-gray-800 p-4 text-white focus:outline-none focus:border-cyan transition-colors" placeholder="Enter email">
                    </div>
                </div>
                <div class="group">
                    <label class="block text-xs text-gray-500 mb-2 uppercase tracking-wider group-focus-within:text-cyan transition-colors">Project Type</label>
                    <select id="c-type" class="w-full bg-black border border-gray-800 p-4 text-white focus:outline-none focus:border-cyan transition-colors appearance-none">
                        <option>Music Video</option>
                        <option>Commercial / Ad</option>
                        <option>YouTube Content</option>
                        <option>Short Film</option>
                        <option>Other</option>
                    </select>
                </div>
                <div class="group">
                    <label class="block text-xs text-gray-500 mb-2 uppercase tracking-wider group-focus-within:text-cyan transition-colors">Message</label>
                    <textarea id="c-message" rows="4" class="w-full bg-black border border-gray-800 p-4 text-white focus:outline-none focus:border-cyan transition-colors" placeholder="Tell me about your vision..."></textarea>
                </div>

                <button type="submit" class="w-full bg-cyan text-black font-bold py-4 tracking-widest hover:bg-white transition-colors uppercase">
                    Send via WhatsApp <i class="fab fa-whatsapp ml-2"></i>
                </button>
            </form>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="bg-black py-12 border-t border-gray-900">
        <div class="container mx-auto px-6 flex flex-col items-center gap-8">
            <a href="#" class="text-3xl font-cinzel font-bold text-white">M28<span class="text-cyan">.</span></a>
            
            <div class="flex gap-6">
                <a href="#" class="text-gray-400 hover:text-cyan transition-colors text-xl"><i class="fab fa-instagram"></i></a>
                <a href="#" class="text-gray-400 hover:text-cyan transition-colors text-xl"><i class="fab fa-twitter"></i></a>
                <a href="#" class="text-gray-400 hover:text-cyan transition-colors text-xl"><i class="fab fa-youtube"></i></a>
            </div>

            <div class="text-center">
                <p class="text-gray-600 text-sm mb-2">&copy; 2024 MANII28 POV. All rights reserved.</p>
                <a href="https://pixcelyash.space" target="_blank" class="text-xs text-gray-700 hover:text-cyan transition-colors uppercase tracking-wider">
                    DESIGN AND DEVELOP BY PIXCELYASH.SPACE
                </a>
            </div>

            <!-- Secret Admin Button -->
            <button onclick="toggleAdminPanel()" class="text-gray-900 hover:text-gray-700 text-xs mt-8">ADMIN ACCESS</button>
        </div>
    </footer>

    <!-- ADMIN MODAL (Hidden by default) -->
    <div id="admin-modal" class="fixed inset-0 z-[60] bg-black/95 hidden flex items-center justify-center backdrop-blur-sm">
        <div class="bg-[#0a0a0a] border border-gray-800 w-full max-w-4xl h-[90vh] overflow-hidden flex flex-col rounded-lg relative shadow-2xl shadow-cyan/10">
            <button onclick="toggleAdminPanel()" class="absolute top-4 right-4 text-gray-500 hover:text-white"><i class="fas fa-times text-xl"></i></button>
            
            <!-- Login State -->
            <div id="admin-login" class="flex-1 flex flex-col items-center justify-center p-8">
                <h3 class="font-cinzel text-2xl mb-4">RESTRICTED ACCESS</h3>
                <input type="password" id="admin-pass" placeholder="Enter Passkey" class="bg-black border border-gray-800 p-3 text-white mb-4 w-64 text-center focus:border-cyan outline-none">
                <button onclick="checkAdminPass()" class="bg-cyan text-black px-8 py-2 font-bold hover:bg-white transition-colors">UNLOCK</button>
                <p id="login-error" class="text-red-500 text-sm mt-4 hidden">Access Denied</p>
            </div>

            <!-- Dashboard State -->
            <div id="admin-dashboard" class="hidden flex-col h-full">
                <div class="p-6 border-b border-gray-800 flex justify-between items-center bg-black">
                    <h2 class="text-xl font-cinzel text-cyan">ADMIN DASHBOARD</h2>
                    <div class="text-xs text-gray-500">Authenticated</div>
                </div>
                
                <div class="flex-1 overflow-y-auto p-6 space-y-12">
                    
                    <!-- Section: Featured Reel -->
                    <div class="bg-gray-900/50 p-6 rounded border border-gray-800">
                        <h3 class="text-lg font-bold mb-4 flex items-center gap-2"><i class="fas fa-star text-cyan"></i> Update Featured Reel</h3>
                        <div class="grid gap-4">
                            <input type="text" id="admin-reel-title" placeholder="Title (e.g., Cinematic Showreel 2024)" class="w-full bg-black border border-gray-800 p-3 text-sm text-white focus:border-cyan outline-none">
                            <input type="text" id="admin-reel-subtitle" placeholder="Subtitle" class="w-full bg-black border border-gray-800 p-3 text-sm text-white focus:border-cyan outline-none">
                            
                            <!-- Video Source -->
                            <div>
                                <label class="text-xs text-gray-500 block mb-1">Video Source (Paste URL OR Upload from Device)</label>
                                <div class="flex flex-col gap-2">
                                    <input type="text" id="admin-reel-video" placeholder="Paste YouTube/Vimeo Link" class="w-full bg-black border border-gray-800 p-3 text-sm text-white focus:border-cyan outline-none">
                                    <div class="text-center text-xs text-gray-600 font-bold uppercase tracking-widest">- OR -</div>
                                    <div class="relative w-full">
                                         <input type="file" id="admin-reel-file-upload" accept="video/*" class="w-full bg-gray-900 border border-gray-800 text-gray-400 text-xs p-2 file:bg-gray-800 file:text-white file:border-0 file:mr-3 file:px-2 file:py-1 cursor-pointer">
                                         <p class="text-[10px] text-red-500 mt-1">* Max 1MB (Short clips/GIFs recommended)</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex gap-4 items-end">
                                <div class="flex-1">
                                    <label class="text-xs text-gray-500 block mb-1">Thumbnail (Paste URL or Upload)</label>
                                    <input type="file" id="admin-reel-thumb-input" class="text-xs text-gray-500 mb-2" accept="image/*" onchange="window.handleFileSelect(this, 'admin-reel-thumb-preview')">
                                </div>
                                <img id="admin-reel-thumb-preview" src="" class="w-24 h-14 bg-gray-800 object-cover hidden border border-cyan">
                            </div>

                            <button id="save-reel-btn" onclick="window.saveReel()" class="bg-white text-black font-bold py-3 hover:bg-cyan transition-colors mt-2">UPDATE SHOWREEL</button>
                        </div>
                    </div>

                    <!-- Section: Projects -->
                    <div class="bg-gray-900/50 p-6 rounded border border-gray-800">
                        <h3 class="text-lg font-bold mb-4 flex items-center gap-2"><i class="fas fa-plus-circle text-cyan"></i> Add New Project</h3>
                        <div class="grid gap-4 mb-8">
                            <div class="grid md:grid-cols-2 gap-4">
                                <input type="text" id="admin-proj-title" placeholder="Project Title" class="w-full bg-black border border-gray-800 p-3 text-sm text-white focus:border-cyan outline-none">
                                <input type="text" id="admin-proj-cat" placeholder="Category (e.g., Music Video)" class="w-full bg-black border border-gray-800 p-3 text-sm text-white focus:border-cyan outline-none">
                            </div>
                            
                            <!-- Video Source -->
                            <div>
                                <label class="text-xs text-gray-500 block mb-1">Project Video (Paste URL OR Upload from Device)</label>
                                <div class="flex flex-col gap-2">
                                    <input type="text" id="admin-proj-video" placeholder="Project Link / YouTube URL" class="w-full bg-black border border-gray-800 p-3 text-sm text-white focus:border-cyan outline-none">
                                    <div class="text-center text-xs text-gray-600 font-bold uppercase tracking-widest">- OR -</div>
                                    <div class="relative w-full">
                                         <input type="file" id="admin-proj-file-upload" accept="video/*" class="w-full bg-gray-900 border border-gray-800 text-gray-400 text-xs p-2 file:bg-gray-800 file:text-white file:border-0 file:mr-3 file:px-2 file:py-1 cursor-pointer">
                                         <p class="text-[10px] text-red-500 mt-1">* Max 1MB (Short clips/GIFs recommended)</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex gap-4 items-end">
                                <div class="flex-1">
                                    <label class="text-xs text-gray-500 block mb-1">Thumbnail</label>
                                    <input type="file" id="admin-proj-thumb-input" class="text-xs text-gray-500 mb-2" accept="image/*" onchange="window.handleFileSelect(this, 'admin-proj-thumb-preview')">
                                </div>
                                <img id="admin-proj-thumb-preview" src="" class="w-16 h-20 bg-gray-800 object-cover hidden border border-cyan">
                            </div>
                            
                            <button id="add-proj-btn" onclick="window.addProject()" class="bg-cyan text-black font-bold py-3 hover:bg-white transition-colors">ADD PROJECT</button>
                        </div>

                        <h4 class="text-sm font-bold text-gray-500 mb-3 uppercase tracking-wider">Existing Projects</h4>
                        <div id="admin-project-list" class="max-h-60 overflow-y-auto pr-2">
                            <!-- List populated by JS -->
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- MAIN JAVASCRIPT -->
    <script>
        // --- Preloader Logic ---
        window.addEventListener('load', () => {
            const preloader = document.getElementById('preloader');
            // Ensure preloader stays for at least 2.5s for effect
            setTimeout(() => {
                preloader.classList.add('zoom-through-exit');
                setTimeout(() => {
                    preloader.style.display = 'none';
                    // Trigger initial scroll reveals once preloader is gone
                    setupScrollObserver();
                }, 800); // Wait for animation to finish
            }, 2500);
        });

        // Failsafe for preloader
        setTimeout(() => {
            const preloader = document.getElementById('preloader');
            if (preloader && preloader.style.display !== 'none') {
                preloader.style.display = 'none';
            }
        }, 8000);

        // --- Mobile Menu ---
        const menuBtn = document.getElementById('menu-btn');
        const closeBtn = document.getElementById('close-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileLinks = document.querySelectorAll('.mobile-link');

        function toggleMenu() {
            mobileMenu.classList.toggle('translate-x-full');
            document.body.classList.toggle('overflow-hidden');
        }

        menuBtn.addEventListener('click', toggleMenu);
        closeBtn.addEventListener('click', toggleMenu);
        mobileLinks.forEach(link => link.addEventListener('click', toggleMenu));

        // --- Intersection Observer for Scroll Animations ---
        function setupScrollObserver() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.scroll-element').forEach(el => observer.observe(el));
        }

        // --- Contact Form to WhatsApp ---
        document.getElementById('contact-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('c-name').value;
            const type = document.getElementById('c-type').value;
            const message = document.getElementById('c-message').value;

            const waText = `*New Project Inquiry*%0A------------------%0A*Name:* ${name}%0A*Type:* ${type}%0A*Message:* ${message}`;
            // Replace with actual number if provided, currently generic
            window.open(`https://wa.me/?text=${waText}`, '_blank');
        });

        // --- Admin UI Logic ---
        window.toggleAdminPanel = () => {
            const modal = document.getElementById('admin-modal');
            modal.classList.toggle('hidden');
        };

        window.checkAdminPass = () => {
            const pass = document.getElementById('admin-pass').value;
            if (pass === 'PIXCELYASH.SPACE') {
                document.getElementById('admin-login').classList.add('hidden');
                document.getElementById('admin-dashboard').classList.remove('hidden');
                document.getElementById('admin-dashboard').classList.add('flex');
            } else {
                const err = document.getElementById('login-error');
                err.classList.remove('hidden');
                err.classList.add('animate-pulse');
            }
        };

        // --- Hero Canvas Animation (Abstract Particles) ---
        const canvas = document.getElementById('hero-canvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        let particles = [];

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        class Particle {
            constructor() {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.vx = (Math.random() - 0.5) * 0.5;
                this.vy = (Math.random() - 0.5) * 0.5;
                this.size = Math.random() * 2;
                this.alpha = Math.random() * 0.5;
            }
            update() {
                this.x += this.vx;
                this.y += this.vy;
                if (this.x < 0 || this.x > width) this.vx *= -1;
                if (this.y < 0 || this.y > height) this.vy *= -1;
            }
            draw() {
                ctx.fillStyle = `rgba(255, 255, 255, ${this.alpha})`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        for (let i = 0; i < 50; i++) particles.push(new Particle());

        function animate() {
            ctx.clearRect(0, 0, width, height);
            particles.forEach(p => {
                p.update();
                p.draw();
            });
            // Draw connecting lines if close
            particles.forEach((p1, i) => {
                particles.slice(i + 1).forEach(p2 => {
                    const dx = p1.x - p2.x;
                    const dy = p1.y - p2.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    if (dist < 150) {
                        ctx.strokeStyle = `rgba(34, 211, 238, ${0.1 - dist/1500})`; // Cyan tint
                        ctx.beginPath();
                        ctx.moveTo(p1.x, p1.y);
                        ctx.lineTo(p2.x, p2.y);
                        ctx.stroke();
                    }
                });
            });
            requestAnimationFrame(animate);
        }
        animate();

    </script>
</body>
</html>
